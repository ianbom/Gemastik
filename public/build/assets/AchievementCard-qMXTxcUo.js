import{c as g}from"./createLucideIcon-9_-YZXNr.js";import{r as i,j as e}from"./app-DqvPgPLX.js";import{B as V}from"./CitizenLayout-CZTR47zY.js";import{C as n,b as $,c as q,a as d}from"./card-f358nuNf.js";import{I as N}from"./input-_-d2rHVp.js";import{S as o,a as m,b as x,c as h,d as r}from"./select-QaOMUZcd.js";import{T as z,a as H,b as C,c as k}from"./tabs-C7qOGwTR.js";import{A as S}from"./award-C8_6O1rs.js";import{C as T}from"./calendar-CqPN-hqJ.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=g("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=g("MapPinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=g("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ae=({myBadges:D,myCertificates:_})=>{const[u,j]=i.useState("certificates"),[l,A]=i.useState(""),[c,L]=i.useState(""),[p,M]=i.useState("desc"),[b,P]=i.useState("desc"),B=a=>a.icon_url?e.jsx("img",{src:`/storage/${a.icon_url}`,alt:a.title,className:"mx-auto h-12 w-12 object-contain",onError:t=>{var w;const s=t.target;s.style.display="none",(w=s.nextElementSibling)==null||w.classList.remove("hidden")}}):"üèÖ",E=a=>{const t=a.title.toLowerCase();return t.includes("legendary")||t.includes("master")?"Legendary":t.includes("epic")||t.includes("expert")?"Epic":t.includes("rare")||t.includes("advanced")?"Rare":""},I=a=>{switch(a.toLowerCase()){case"common":return"border-gray-300";case"rare":return"border-blue-400";case"epic":return"border-purple-400";case"legendary":return"border-yellow-400";default:return"border-gray-300"}},f=a=>new Date(a).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),R=(a,t)=>{const s=document.createElement("a");s.href=`/storage/${a}`,s.download=`${t}.pdf`,s.target="_blank",document.body.appendChild(s),s.click(),document.body.removeChild(s)},y=_.filter(a=>a.title.toLowerCase().includes(l.toLowerCase())).sort((a,t)=>p==="desc"?new Date(t.created_at).getTime()-new Date(a.created_at).getTime():new Date(a.created_at).getTime()-new Date(t.created_at).getTime()),v=D.filter(a=>a.badge_id.toString().includes(c)).sort((a,t)=>b==="desc"?new Date(t.created_at).getTime()-new Date(a.created_at).getTime():new Date(a.created_at).getTime()-new Date(t.created_at).getTime());return e.jsxs(n,{children:[e.jsx($,{children:e.jsx(q,{children:"Riwayat Pencapaian"})}),e.jsx(d,{children:e.jsxs(z,{value:u,onValueChange:j,children:[e.jsxs(H,{className:"hidden w-full grid-cols-2 md:grid",children:[e.jsx(C,{value:"certificates",children:"Sertifikat Saya"}),e.jsx(C,{value:"badges",children:"Koleksi Badges"})]}),e.jsx("div",{className:"mb-4 md:hidden",children:e.jsxs(o,{value:u,onValueChange:j,children:[e.jsx(m,{className:"w-full",children:e.jsx(x,{placeholder:"Pilih aktivitas"})}),e.jsxs(h,{children:[e.jsx(r,{value:"certificates",children:"Sertifikat Saya"}),e.jsx(r,{value:"badges",children:"Koleksi Badges"})]})]})}),e.jsxs(k,{value:"certificates",className:"mt-6",children:[e.jsxs("div",{className:"mb-4 flex flex-col items-start justify-between gap-2 sm:flex-row sm:items-center",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{value:p,onValueChange:M,children:[e.jsx(m,{className:"w-[140px]",children:e.jsx(x,{placeholder:"Tampilkan"})}),e.jsxs(h,{children:[e.jsx(r,{value:"desc",children:"Terbaru"}),e.jsx(r,{value:"asc",children:"Terlama"})]})]}),e.jsx(N,{type:"text",placeholder:"Cari sertifikat...",className:"w-40",value:l,onChange:a=>A(a.target.value)})]})]}),y.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(S,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:l?"Tidak ada sertifikat yang cocok dengan pencarian":"Belum ada sertifikat yang diterima"})]}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:y.map(a=>e.jsx(n,{className:"border-2 border-blue-200",children:e.jsxs(d,{className:"p-4 text-center sm:p-6",children:[e.jsx("div",{className:"mb-3 text-3xl sm:text-4xl",children:"üìú"}),e.jsx("h3",{className:"mb-2 text-sm font-semibold text-gray-900 sm:text-base",children:a.title}),e.jsxs("div",{className:"mb-3 flex items-center justify-center gap-1 text-xs text-gray-600",children:[e.jsx(T,{className:"h-3 w-3"}),e.jsxs("span",{children:["Diterima:"," ",f(a.created_at)]})]}),e.jsxs("button",{onClick:()=>R(a.certificate_url,a.title),className:"flex w-full items-center justify-center gap-2 rounded-md bg-blue-500 px-3 py-2 text-xs text-white transition-colors hover:bg-blue-600",children:[e.jsx(K,{className:"h-3 w-3"}),"Download"]})]})},a.id))})]}),e.jsxs(k,{value:"badges",className:"mt-6",children:[e.jsxs("div",{className:"mb-4 flex flex-col items-start justify-between gap-2 sm:flex-row sm:items-center",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{value:b,onValueChange:P,children:[e.jsx(m,{className:"w-[140px]",children:e.jsx(x,{placeholder:"Tampilkan"})}),e.jsxs(h,{children:[e.jsx(r,{value:"desc",children:"Terbaru"}),e.jsx(r,{value:"asc",children:"Terlama"})]})]}),e.jsx(N,{type:"text",placeholder:"Cari badge...",className:"w-40",value:c,onChange:a=>L(a.target.value)})]})]}),v.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(S,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:c?"Tidak ada badge yang cocok dengan pencarian":"Belum ada badge yang diterima"})]}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:v.map(a=>{const t=E(a.badge);return e.jsx(n,{className:`border-2 ${I(t)}`,children:e.jsxs(d,{className:"p-4 text-center sm:p-6",children:[e.jsxs("div",{className:"mb-3 flex h-12 items-center justify-center",children:[B(a.badge),e.jsx("span",{className:"hidden text-3xl sm:text-4xl",children:"üèÖ"})]}),e.jsx("h3",{className:"mb-2 text-sm font-semibold text-gray-900 sm:text-base",children:a.badge.title}),e.jsx("p",{className:"mb-3 text-xs text-gray-600 sm:text-sm",children:a.badge.description||"Achievement badge earned through platform activities"}),e.jsx(V,{variant:"outline",className:"mb-2 text-xs",children:t}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-500",children:[e.jsx(T,{className:"h-3 w-3"}),e.jsxs("span",{children:["Diterima:"," ",f(a.created_at)]})]})]})},a.id)})})]})]})})]})};export{ae as A,Z as M,ee as P};
