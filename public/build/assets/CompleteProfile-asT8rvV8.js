import{J as y,r as l,x as _,j as e,Q as L}from"./app-DqvPgPLX.js";import{I as c,S as m}from"./SelectField-DeDl464E.js";function z(){var v,j,f;const x=y(),o=x.props.provinces,a=x.props.auth,d=l.useMemo(()=>o.flatMap(s=>s.cities??[]),[o]),b=l.useMemo(()=>d.flatMap(s=>s.districts??[]),[d]),[h,k]=l.useState([]),[u,p]=l.useState([]),{data:r,setData:i,post:N,processing:g,errors:t}=_({province_id:((v=a.user.province_id)==null?void 0:v.toString())??"",city_id:((j=a.user.city_id)==null?void 0:j.toString())??"",district_id:((f=a.user.district_id)==null?void 0:f.toString())??"",address:a.user.address??"",phone:a.user.phone??"",name:a.user.name??"",email:a.user.email??""});l.useEffect(()=>{const s=d.filter(n=>n.province_id===parseInt(r.province_id));k(s),i(n=>({...n,city_id:"",district_id:""})),p([])},[r.province_id]),l.useEffect(()=>{const s=b.filter(n=>n.city_id===parseInt(r.city_id));p(s),i(n=>({...n,district_id:""}))},[r.city_id]);const w=s=>{s.preventDefault(),N(route("profile.complete.update"))};return e.jsxs(e.Fragment,{children:[e.jsx(L,{title:"Lengkapi Profile"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 px-4 py-8 sm:px-6 lg:px-8",children:e.jsx("div",{className:"relative mx-auto max-w-4xl",children:e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-white/50 bg-white/80 shadow-2xl backdrop-blur-sm",children:[e.jsx("div",{className:"relative overflow-hidden bg-gradient-to-r from-emerald-600 to-green-600 px-8 py-12 text-center",children:e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"mx-auto mb-6 flex h-24 w-24 items-center justify-center rounded-full border-2 border-white/30 bg-white/30 shadow-lg backdrop-blur-sm",children:e.jsx("svg",{className:"h-12 w-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Lengkapi Data Anda"}),e.jsx("p",{className:"mx-auto max-w-md text-lg text-blue-100",children:"Silahkan lengkapi informasi pribadi Anda untuk melanjutkan"})]})]})}),e.jsxs("form",{onSubmit:w,className:"space-y-8 px-8 py-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-r from-emerald-500 to-teal-500",children:e.jsx("svg",{className:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Informasi Pribadi"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Data pribadi dan kontak Anda"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsx(c,{label:"Nama Lengkap",isRequired:!0,id:"name",value:r.name,onChange:s=>i("name",s.target.value),error:t.name}),e.jsx(c,{label:"Email",id:"email",type:"email",value:r.email,onChange:s=>i("email",s.target.value),error:t.email,disabled:!0})]}),e.jsx(c,{label:"Nomor Telepon",id:"phone",value:r.phone,onChange:s=>i("phone",s.target.value),error:t.phone,type:"tel",isRequired:!0})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-r from-emerald-500 to-teal-500",children:e.jsxs("svg",{className:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Informasi Alamat"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Lokasi tempat tinggal Anda"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs(m,{label:"Provinsi",id:"province_id",value:r.province_id,onChange:s=>i("province_id",s.target.value),error:t.province_id,children:[e.jsx("option",{value:"",children:"Pilih Provinsi"}),o.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsxs(m,{label:"Kota/Kabupaten *",id:"city_id",value:r.city_id,onChange:s=>i("city_id",s.target.value),error:t.city_id,disabled:!h.length,children:[e.jsx("option",{value:"",children:"Pilih Kota/Kabupaten"}),h.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsxs(m,{label:"Kecamatan",id:"district_id",value:r.district_id,onChange:s=>i("district_id",s.target.value),error:t.district_id,disabled:!u.length,children:[e.jsx("option",{value:"",children:"Pilih Kecamatan"}),u.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"address",className:"mb-2 block text-sm font-medium text-gray-700",children:["Alamat Lengkap"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"address",value:r.address,onChange:s=>i("address",s.target.value),rows:4,className:`w-full resize-none rounded-xl border-2 px-4 py-3 text-sm transition-all duration-200 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${t.address?"border-red-300 bg-red-50":"border-gray-200 bg-gray-50 hover:border-gray-300 focus:bg-white"}`,placeholder:"Masukkan alamat lengkap (nama jalan, RT/RW, dll)"}),t.address&&e.jsxs("p",{className:"mt-2 flex items-center text-sm text-red-600",children:[e.jsx("svg",{className:"mr-1 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.address]})]})]}),e.jsx("div",{className:"pt-6",children:e.jsx("button",{type:"submit",disabled:g,className:"group relative w-full transform rounded-xl bg-gradient-to-r from-emerald-600 to-teal-600 px-6 py-4 font-semibold text-white shadow-lg transition-all duration-200 hover:scale-[1.02] hover:from-emerald-700 hover:to-teal-700 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:transform-none disabled:cursor-not-allowed disabled:opacity-50",children:e.jsx("span",{className:"relative z-10 flex items-center justify-center",children:g?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"-ml-1 mr-3 h-5 w-5 animate-spin text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Menyimpan..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mr-2 h-5 w-5 transition-transform duration-200 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Simpan Data"]})})})})]})]})})})]})}export{z as default};
