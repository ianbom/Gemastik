import{j as e,r as n,x as Ve,S as y,J as Be}from"./app-DqvPgPLX.js";import{f as Ge,B as J,e as He,C as P}from"./CitizenLayout-CZTR47zY.js";import{c as ae,a as Je}from"./Combination-bzKAMG6s.js";import{u as se,a as Ke,c as h,P as te}from"./index-28FC01iy.js";import{c as re,R as We,P as Ye,W as Ue,C as Xe,T as Ze,D as ea,a as ie,O as aa,b as sa}from"./index-DYnLF9d4.js";import{b as le,B as j}from"./input-_-d2rHVp.js";import{C as E,a as z,b as K,c as W}from"./card-f358nuNf.js";import{c as L}from"./createLucideIcon-9_-YZXNr.js";import{A as ta}from"./award-C8_6O1rs.js";import{A as Y}from"./arrow-left-eTNxQMZi.js";import{C as ra}from"./clock-C5fLQ3cO.js";import{A as ia}from"./arrow-right-BFPtAffx.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=L("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=L("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=L("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var ne="AlertDialog",[la,qa]=ae(ne,[re]),f=re(),oe=a=>{const{__scopeAlertDialog:s,...t}=a,i=f(s);return e.jsx(We,{...i,...t,modal:!0})};oe.displayName=ne;var na="AlertDialogTrigger",oa=n.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...i}=a,l=f(t);return e.jsx(sa,{...l,...i,ref:s})});oa.displayName=na;var da="AlertDialogPortal",de=a=>{const{__scopeAlertDialog:s,...t}=a,i=f(s);return e.jsx(Ye,{...i,...t})};de.displayName=da;var ca="AlertDialogOverlay",ce=n.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...i}=a,l=f(t);return e.jsx(aa,{...l,...i,ref:s})});ce.displayName=ca;var N="AlertDialogContent",[ma,ua]=la(N),xa=Ke("AlertDialogContent"),me=n.forwardRef((a,s)=>{const{__scopeAlertDialog:t,children:i,...l}=a,u=f(t),m=n.useRef(null),d=se(s,m),x=n.useRef(null);return e.jsx(Ue,{contentName:N,titleName:ue,docsSlug:"alert-dialog",children:e.jsx(ma,{scope:t,cancelRef:x,children:e.jsxs(Xe,{role:"alertdialog",...u,...l,ref:d,onOpenAutoFocus:Je(l.onOpenAutoFocus,g=>{var w;g.preventDefault(),(w=x.current)==null||w.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[e.jsx(xa,{children:i}),e.jsx(pa,{contentRef:m})]})})})});me.displayName=N;var ue="AlertDialogTitle",xe=n.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...i}=a,l=f(t);return e.jsx(Ze,{...l,...i,ref:s})});xe.displayName=ue;var ge="AlertDialogDescription",pe=n.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...i}=a,l=f(t);return e.jsx(ea,{...l,...i,ref:s})});pe.displayName=ge;var ga="AlertDialogAction",he=n.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...i}=a,l=f(t);return e.jsx(ie,{...l,...i,ref:s})});he.displayName=ga;var fe="AlertDialogCancel",be=n.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...i}=a,{cancelRef:l}=ua(fe,t),u=f(t),m=se(s,l);return e.jsx(ie,{...u,...i,ref:m})});be.displayName=fe;var pa=({contentRef:a})=>{const s=`\`${N}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${N}\` by passing a \`${ge}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${N}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{var i;document.getElementById((i=a.current)==null?void 0:i.getAttribute("aria-describedby"))||console.warn(s)},[s,a]),null},ha=oe,fa=de,ve=ce,je=me,ye=he,Ne=be,we=xe,Ae=pe;const X=ha,ba=fa,ke=n.forwardRef(({className:a,...s},t)=>e.jsx(ve,{className:h("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",a),...s,ref:t}));ke.displayName=ve.displayName;const T=n.forwardRef(({className:a,...s},t)=>e.jsxs(ba,{children:[e.jsx(ke,{}),e.jsx(je,{ref:t,className:h("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 sm:rounded-lg",a),...s})]}));T.displayName=je.displayName;const $=({className:a,...s})=>e.jsx("div",{className:h("flex flex-col space-y-2 text-center sm:text-left",a),...s});$.displayName="AlertDialogHeader";const O=({className:a,...s})=>e.jsx("div",{className:h("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s});O.displayName="AlertDialogFooter";const Q=n.forwardRef(({className:a,...s},t)=>e.jsx(we,{ref:t,className:h("text-lg font-semibold",a),...s}));Q.displayName=we.displayName;const M=n.forwardRef(({className:a,...s},t)=>e.jsx(Ae,{ref:t,className:h("text-muted-foreground text-sm",a),...s}));M.displayName=Ae.displayName;const q=n.forwardRef(({className:a,...s},t)=>e.jsx(ye,{ref:t,className:h(le(),a),...s}));q.displayName=ye.displayName;const I=n.forwardRef(({className:a,...s},t)=>e.jsx(Ne,{ref:t,className:h(le({variant:"outline"}),"mt-2 sm:mt-0",a),...s}));I.displayName=Ne.displayName;var F="Progress",V=100,[va,Ia]=ae(F),[ja,ya]=va(F),De=n.forwardRef((a,s)=>{const{__scopeProgress:t,value:i=null,max:l,getValueLabel:u=Na,...m}=a;(l||l===0)&&!Z(l)&&console.error(wa(`${l}`,"Progress"));const d=Z(l)?l:V;i!==null&&!ee(i,d)&&console.error(Aa(`${i}`,"Progress"));const x=ee(i,d)?i:null,g=D(x)?u(x,d):void 0;return e.jsx(ja,{scope:t,value:x,max:d,children:e.jsx(te.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":D(x)?x:void 0,"aria-valuetext":g,role:"progressbar","data-state":_e(x,d),"data-value":x??void 0,"data-max":d,...m,ref:s})})});De.displayName=F;var Se="ProgressIndicator",Ce=n.forwardRef((a,s)=>{const{__scopeProgress:t,...i}=a,l=ya(Se,t);return e.jsx(te.div,{"data-state":_e(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...i,ref:s})});Ce.displayName=Se;function Na(a,s){return`${Math.round(a/s*100)}%`}function _e(a,s){return a==null?"indeterminate":a===s?"complete":"loading"}function D(a){return typeof a=="number"}function Z(a){return D(a)&&!isNaN(a)&&a>0}function ee(a,s){return D(a)&&!isNaN(a)&&a<=s&&a>=0}function wa(a,s){return`Invalid prop \`max\` of value \`${a}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${V}\`.`}function Aa(a,s){return`Invalid prop \`value\` of value \`${a}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${V} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Pe=De,ka=Ce;const Ee=n.forwardRef(({className:a,value:s,...t},i)=>e.jsx(Pe,{ref:i,className:h("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...t,children:e.jsx(ka,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));Ee.displayName=Pe.displayName;const Da=({quiz:a,timeLimit:s=30})=>{const[t,i]=n.useState(0),[l,u]=n.useState({}),[m,d]=n.useState(s*60),[x,g]=n.useState(!1),[w,A]=n.useState(!1),[S,B]=n.useState(!1),{setData:G,post:ze,processing:o,errors:C}=Ve({answers:{}}),p=a.questions[t],b=a.questions.length,v=Object.keys(l).length,Re=(t+1)/b*100;n.useEffect(()=>{const r={};Object.entries(l).forEach(([c,_])=>{r[c]=_}),G("answers",r)},[l,G]),n.useEffect(()=>{if(S||o)return;const r=setInterval(()=>{d(c=>c<=1?(H(),0):c-1)},1e3);return()=>clearInterval(r)},[S,o]);const Te=r=>{const c=Math.floor(r/60),_=r%60;return`${c}:${_.toString().padStart(2,"0")}`},$e=r=>{switch(r){case"mudah":return"bg-green-100 text-green-700 border-green-200";case"sedang":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"sulit":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},Oe=r=>{switch(r){case"mudah":return"Mudah";case"sedang":return"Sedang";case"sulit":return"Sulit";default:return r}},Qe=r=>{u(c=>({...c,[p.id]:r}))},Me=()=>{t<b-1&&i(t+1)},qe=()=>{t>0&&i(t-1)},Ie=r=>{i(r)},H=()=>{B(!0),A(!1),ze(route("quiz.submit",a.id),{onSuccess:r=>{console.log("Quiz submitted successfully:",r.props)},onError:r=>{console.error("Error submitting quiz:",r),B(!1),alert("Terjadi kesalahan saat mengirim jawaban. Silakan coba lagi.")},onFinish:()=>{}})},Le=()=>{g(!1),y.visit(route("quiz.index"))},Fe=()=>m>300?"text-sky-600":m>60?"text-yellow-600":"text-red-600";return S?e.jsx("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx(E,{className:"text-center",children:e.jsxs(z,{className:"py-12",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full",children:o?e.jsx(k,{className:"w-8 h-8 text-blue-600 animate-spin"}):e.jsx(Ge,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"mb-2 text-2xl font-bold text-gray-900",children:o?"Mengirim Jawaban...":"Quiz Selesai!"}),e.jsx("p",{className:"text-gray-600",children:o?"Sedang memproses jawaban Anda...":"Jawaban Anda telah berhasil dikirim!"})]}),C&&Object.keys(C).length>0&&e.jsxs("div",{className:"p-4 mt-4 text-red-700 rounded-lg bg-red-50",children:[e.jsx("p",{className:"font-medium",children:"Terjadi kesalahan:"}),e.jsx("ul",{className:"mt-2 text-sm list-disc list-inside",children:Object.entries(C).map(([r,c])=>e.jsx("li",{children:c},r))})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(j,{size:"lg",className:"bg-sky-600 hover:bg-sky-700",onClick:()=>y.visit(route("my-quiz")),children:[e.jsx(ta,{className:"w-5 h-5 mr-2"}),"Lihat Skor Saya"]})})]})})}):e.jsxs("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(j,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center",disabled:o,children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Keluar"]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:`flex items-center font-mono text-lg font-bold ${Fe()}`,children:[e.jsx(ra,{className:"w-5 h-5 mr-2"}),Te(m)]}),e.jsxs(j,{onClick:()=>A(!0),className:"bg-emerald-600 hover:bg-emerald-700",disabled:v===0||o,children:[o?e.jsx(k,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(R,{className:"w-4 h-4 mr-2"}),"Selesai"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"relative px-4 py-4 mb-2 overflow-hidden rounded-lg shadow-lg bg-gradient-to-r from-sky-500 to-sky-600",children:e.jsxs("div",{className:"relative z-10 flex items-start justify-between p-5",children:[e.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[e.jsx("h1",{className:"mb-2 text-2xl font-bold leading-tight text-white line-clamp-2",children:a.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(J,{className:`${$e(a.difficulty)} shadow-sm`,children:Oe(a.difficulty)}),e.jsxs(J,{className:"flex items-center gap-1 text-yellow-800 bg-yellow-100",children:[e.jsx(He,{size:12,className:"text-yellow-500"}),a.points_reward," Poin"]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex items-center justify-center w-16 h-16 border rounded-xl border-white/30 bg-white/20 backdrop-blur-sm",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9v1zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.2 3-3.3 3-5.7 0-3.9-3.1-7-7-7z"})})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Pertanyaan ",t+1," dari"," ",b]}),e.jsxs("span",{children:[v," dari ",b," terjawab"]})]}),e.jsx(Ee,{value:Re,className:"h-2 [&>div]:bg-sky-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-4",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(E,{className:"sticky top-6",children:[e.jsx(K,{children:e.jsx(W,{className:"text-lg",children:"Navigasi Soal"})}),e.jsxs(z,{children:[e.jsx("div",{className:"grid grid-cols-5 gap-2 lg:grid-cols-4",children:a.questions.map((r,c)=>e.jsx("button",{onClick:()=>Ie(c),disabled:o,className:`aspect-square rounded border-2 text-sm font-medium transition-colors disabled:opacity-50 ${t===c?"border-sky-500 bg-sky-100 text-sky-700":l[r.id]?"border-green-500 bg-green-100 text-green-700":"border-gray-300 bg-gray-100 text-gray-700 hover:border-gray-400"}`,children:c+1},r.id))}),e.jsxs("div",{className:"mt-4 space-y-2 text-xs text-gray-600",children:[e.jsx("p",{children:"Keterangan:"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 mr-2 border-2 rounded border-sky-500 bg-sky-100"}),"Soal saat ini"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 mr-2 bg-green-100 border-2 border-green-500 rounded"}),"Sudah dijawab"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 mr-2 bg-gray-100 border-2 border-gray-300 rounded"}),"Belum dijawab"]})]})]})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(E,{className:"bg-sky-100",children:[e.jsx(K,{children:e.jsxs(W,{className:"text-xl text-sky-800",children:["Pertanyaan ",t+1]})}),e.jsxs(z,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-2xl font-semibold leading-relaxed text-gray-900",children:p.question_text}),p.question_image_url&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:p.question_image_url.startsWith("/storage/")?p.question_image_url:`/storage/${p.question_image_url}`,alt:"Question illustration",className:"border rounded-lg max-h-64"})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:p.answers.map((r,c)=>e.jsx("button",{onClick:()=>Qe(r.id),disabled:o,className:`w-full rounded-lg border-2 p-4 text-left transition-all disabled:opacity-50 ${l[p.id]===r.id?"border-sky-700 bg-sky-700":"border-sky-200 bg-white hover:scale-105 hover:border-sky-300 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`mt-1 flex h-6 w-6 items-center justify-center rounded-md border-2 p-4 text-sm font-bold ${l[p.id]===r.id?"border-sky-200 bg-sky-200 text-sky-900":"border-sky-200 bg-white text-sky-700"}`,children:String.fromCharCode(65+c)}),e.jsxs("div",{className:"flex-1",children:[r.image_url&&e.jsx("img",{src:r.image_url.startsWith("/storage/")?r.image_url:`/storage/${r.image_url}`,alt:`Option ${String.fromCharCode(65+c)}`,className:"mb-2 rounded max-h-32"}),r.answer_text&&e.jsx("p",{className:`font-medium ${l[p.id]===r.id?"text-white":"text-black"}`,children:r.answer_text})]})]})},r.id))}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[e.jsxs(j,{variant:"outline",onClick:qe,disabled:t===0||o,children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Sebelumnya"]}),t===b-1?e.jsxs(j,{onClick:()=>A(!0),className:"bg-emerald-600 hover:bg-emerald-700",disabled:v===0||o,children:[o?e.jsx(k,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(R,{className:"w-4 h-4 mr-2"}),"Selesaikan Quiz"]}):e.jsxs(j,{onClick:Me,className:"bg-sky-600 hover:bg-sky-700",disabled:o,children:["Selanjutnya",e.jsx(ia,{className:"w-4 h-4 ml-2"})]})]})]})]})})]}),e.jsx(X,{open:x,onOpenChange:g,children:e.jsxs(T,{children:[e.jsxs($,{children:[e.jsxs(Q,{className:"flex items-center",children:[e.jsx(U,{className:"w-5 h-5 mr-2 text-amber-500"}),"Keluar dari Quiz?"]}),e.jsx(M,{children:"Apakah Anda yakin ingin keluar? Semua jawaban yang sudah Anda pilih akan hilang dan tidak dapat dikembalikan."})]}),e.jsxs(O,{children:[e.jsx(I,{disabled:o,children:"Batal"}),e.jsx(q,{onClick:Le,className:"bg-red-600 hover:bg-red-700",disabled:o,children:"Ya, Keluar"})]})]})}),e.jsx(X,{open:w,onOpenChange:A,children:e.jsxs(T,{children:[e.jsxs($,{children:[e.jsxs(Q,{className:"flex items-center",children:[e.jsx(R,{className:"w-5 h-5 mr-2 text-emerald-500"}),"Selesaikan Quiz?"]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Anda telah menjawab ",v," dari"," ",b," pertanyaan."]}),v<b&&e.jsxs("p",{className:"text-amber-600",children:[e.jsx(U,{className:"inline w-4 h-4 mr-1"}),b-v," ","pertanyaan belum dijawab dan akan dianggap salah."]}),e.jsx("p",{children:"Apakah Anda yakin ingin menyelesaikan quiz ini?"})]})})]}),e.jsxs(O,{children:[e.jsx(I,{disabled:o,children:"Batal"}),e.jsx(q,{onClick:H,className:"bg-sky-600 hover:bg-sky-700",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-4 h-4 mr-2 animate-spin"}),"Mengirim..."]}):"Ya, Selesaikan"})]})]})})]})},La=()=>{const{props:a}=Be(),s=a.quiz,t=a.timeLimit||30;n.useEffect(()=>{s.is_active||y.visit(route("quiz.index"),{onError:()=>{window.history.back()}})},[s.is_active]),n.useEffect(()=>{s.questions.length===0&&y.visit(route("quiz.index"),{onError:()=>{window.history.back()}})},[s.questions.length]);const i=u=>{y.post(route("quiz.submit",{id:s.id}),{answers:u},{onSuccess:()=>{},onError:m=>{console.error("Error submitting quiz:",m)},preserveState:!1})},l=()=>{y.visit(route("quiz.index"),{onError:()=>{window.history.back()}})};return n.useEffect(()=>{const u=d=>(d.preventDefault(),d.returnValue="Apakah Anda yakin ingin meninggalkan halaman? Jawaban Anda akan hilang.",d.returnValue),m=d=>{confirm("Apakah Anda yakin ingin meninggalkan quiz? Jawaban Anda akan hilang.")||(d.preventDefault(),window.history.pushState(null,"",window.location.href))};return window.addEventListener("beforeunload",u),window.addEventListener("popstate",m),window.history.pushState(null,"",window.location.href),()=>{window.removeEventListener("beforeunload",u),window.removeEventListener("popstate",m)}},[]),!s||!s.questions||s.questions.length===0?e.jsx(P,{currentPage:"quiz",children:e.jsx("div",{className:"max-w-4xl px-4 py-8 mx-auto",children:e.jsx("div",{className:"flex items-center justify-center py-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-4 border-b-2 rounded-full animate-spin border-emerald-600"}),e.jsx("p",{className:"text-gray-600",children:"Memuat quiz..."})]})})})}):s.is_active?(console.log("Quiz data:",s),e.jsx(P,{currentPage:"quiz",children:e.jsx(Da,{quiz:s,onSubmitQuiz:i,onExitQuiz:l,timeLimit:t})})):e.jsx(P,{currentPage:"quiz",children:e.jsx("div",{className:"max-w-4xl px-4 py-8 mx-auto",children:e.jsxs("div",{className:"py-32 text-center",children:[e.jsx("h2",{className:"mb-4 text-2xl font-bold text-gray-900",children:"Quiz Tidak Tersedia"}),e.jsx("p",{className:"mb-8 text-gray-600",children:"Quiz ini sedang tidak aktif dan tidak dapat dikerjakan."}),e.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 text-white rounded-lg bg-emerald-600 hover:bg-emerald-700",children:"Kembali"})]})})})};export{La as default};
