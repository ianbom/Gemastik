import{r as o,j as r}from"./app-DqvPgPLX.js";import{u as f,M as m,T as d,b as h,L as p}from"./TileLayer-D04JuLI4.js";import"./index-28FC01iy.js";function c(){return f().map}function x(t){const e=c();return o.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}delete p.Icon.Default.prototype._getIconUrl;p.Icon.Default.mergeOptions({iconUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png"});function k({onMapClick:t,disabled:e}){return x({click(n){if(e)return;const a={lat:n.latlng.lat,lng:n.latlng.lng};t(a)}}),null}function M({location:t}){const e=c();return o.useEffect(()=>{e.setView([t.lat,t.lng],e.getZoom())},[t,e]),null}function v({onChange:t,defaultPosition:e=[-7.2575,112.7521],location:n,disabled:a=!1}){const[l,i]=o.useState(null);o.useEffect(()=>{if(n){const s={lat:n.latitude,lng:n.longitude};i(s)}},[n]);const g=s=>{i(s),t({latitude:s.lat,longitude:s.lng})},u=l??{lat:e[0],lng:e[1]};return r.jsx("div",{className:"h-64 w-full overflow-hidden rounded-lg border",children:r.jsxs(m,{center:[u.lat,u.lng],zoom:13,scrollWheelZoom:!a,style:{height:"100%",width:"100%",zIndex:0},children:[r.jsx(d,{attribution:'Â© <a href="https://www.openstreetmap.org/">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.jsx(k,{onMapClick:g,disabled:a}),l&&r.jsxs(r.Fragment,{children:[r.jsx(h,{position:[l.lat,l.lng]}),r.jsx(M,{location:l})]})]})})}export{v as default};
