import{r as c,j as e,S as B,J as D}from"./app-DqvPgPLX.js";import{B as u,I as P}from"./input-_-d2rHVp.js";import{C as h,b as H,c as R,a as S}from"./card-f358nuNf.js";import{S as T,a as L,b as z,c as F,d as o}from"./select-QaOMUZcd.js";import{g as A,b as K,R as M}from"./RenderHtml-DGTn3AzL.js";import{a as I}from"./formatDate-UvSedfNW.js";import{B as p,C as W}from"./CitizenLayout-CZTR47zY.js";import{S as $,R as J}from"./sliders-horizontal-CY56mF2c.js";import{S as O}from"./search-BSytNz48.js";import{P as Q}from"./play-DLk0sXxq.js";import{C as U}from"./calendar-CqPN-hqJ.js";import{E as Z}from"./eye-BmKQ7d-8.js";import"./index-28FC01iy.js";import"./index-DCNyB5w5.js";import"./createLucideIcon-9_-YZXNr.js";import"./Combination-bzKAMG6s.js";import"./newspaper-B77QPgqg.js";const q=({onViewDetails:m,contents:n})=>{const[i,d]=c.useState("newest"),[a,x]=c.useState(""),[j,V]=c.useState(n),[l,g]=c.useState({content_type:"semua"}),f=(s,t)=>{g(r=>({...r,[s]:t}))},v=()=>{g({content_type:"semua"}),x("")};c.useEffect(()=>{let s=[...n];a.trim()&&(s=s.filter(t=>t.title.toLowerCase().includes(a.toLowerCase()))),l.content_type!=="semua"&&(s=s.filter(t=>t.content_type.toLowerCase()===l.content_type.toLowerCase())),i==="newest"?s.sort((t,r)=>new Date(r.created_at).getTime()-new Date(t.created_at).getTime()):i==="oldest"?s.sort((t,r)=>new Date(t.created_at).getTime()-new Date(r.created_at).getTime()):i==="title"&&s.sort((t,r)=>t.title.localeCompare(r.title)),V(s)},[n,a,i,l]);const E=[{label:"Artikel",value:"artikel"},{label:"Modul PDF",value:"modul"},{label:"Video",value:"video"}],y=a.trim()||l.content_type!=="semua";return e.jsxs("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900",children:"Konten Edukasi"}),e.jsx("p",{className:"text-gray-600",children:"Pelajari berbagai topik lingkungan untuk meningkatkan kesadaran Anda"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-4",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(h,{className:"sticky top-24",children:[e.jsx(H,{children:e.jsxs(R,{className:"flex items-center justify-between text-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{size:20,className:"mr-2 text-sky-600"}),"Filter Konten"]}),y&&e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-emerald-100 text-emerald-600",children:"Aktif"})]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tipe Konten"}),e.jsxs(T,{value:l.content_type,onValueChange:s=>f("content_type",s),children:[e.jsx(L,{children:e.jsx(z,{placeholder:"Pilih tipe"})}),e.jsxs(F,{children:[e.jsx(o,{value:"semua",children:"Semua Tipe"}),E.map(s=>e.jsx(o,{value:s.value,children:s.label},s.value))]})]})]}),e.jsx("div",{className:"pt-4 space-y-2",children:e.jsxs(u,{variant:"outline",className:"flex items-center justify-center w-full gap-2",onClick:v,disabled:!y,children:[e.jsx(J,{className:"w-4 h-4"}),"Reset Filter"]})})]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 mb-6 sm:flex-row sm:items-center",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(T,{value:i,onValueChange:d,children:[e.jsx(L,{className:"w-48",children:e.jsx(z,{placeholder:"Urutkan berdasarkan"})}),e.jsxs(F,{children:[e.jsx(o,{value:"newest",children:"Terbaru"}),e.jsx(o,{value:"oldest",children:"Terlama"}),e.jsx(o,{value:"title",children:"Judul A-Z"})]})]})}),e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(O,{className:"absolute w-4 h-4 text-gray-400 left-3 top-3"}),e.jsx(P,{placeholder:"Cari konten...",className:"pl-10",value:a,onChange:s=>x(s.target.value)})]})]}),(l.content_type!=="semua"||a)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("span",{className:"mr-2 text-sm font-medium text-gray-700",children:"Filter aktif:"}),a&&e.jsxs(p,{variant:"secondary",className:"flex items-center gap-1",children:['Pencarian: "',a,'"',e.jsx("button",{onClick:()=>x(""),className:"ml-1 text-xs",children:"×"})]}),l.content_type!=="semua"&&e.jsxs(p,{variant:"secondary",className:"flex items-center gap-1",children:["Kategori: ",l.content_type,e.jsx("button",{onClick:()=>f("content_type","semua"),className:"ml-1 text-xs",children:"×"})]})]}),j.length>0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3",children:j.map(s=>{var t,r,N,b,w,k,C,_;return e.jsxs(h,{className:"transition-all duration-300 border-0 shadow-md cursor-pointer group hover:-translate-y-1 hover:shadow-lg",onClick:()=>m(s.id),children:[e.jsxs("div",{className:"relative overflow-hidden rounded-t-lg",children:[(N=(r=(t=s.media)==null?void 0:t[0])==null?void 0:r.media_type)!=null&&N.startsWith("video")?e.jsxs("div",{className:"relative w-full h-48 bg-black",children:[e.jsx("video",{className:"object-cover w-full h-full opacity-50",src:`/storage/${s.media[0].media_url}`,muted:!0,preload:"metadata"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"p-2 rounded-full bg-white/80",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-black",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-5.197-3.03A1 1 0 008 9.03v5.94a1 1 0 001.555.832l5.197-3.03a1 1 0 000-1.664z"})})})})]}):((w=(b=s.media)==null?void 0:b[0])==null?void 0:w.media_type)==="document"?e.jsx("div",{className:"flex items-center justify-center w-full h-48 bg-gray-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 text-sky-600",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M6 2a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6H6zm7 1.5L18.5 9H13V3.5zM8 13h8v2H8v-2zm0 4h5v2H8v-2z"})})}):e.jsx("img",{src:`/storage/${(C=(k=s.media)==null?void 0:k[0])==null?void 0:C.media_url}`,alt:s.title,className:"object-cover w-full h-48 transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute right-3 top-3",children:e.jsx(p,{className:A(s.content_type),children:e.jsx("div",{className:"flex items-center gap-1",children:K(s.content_type)})})}),s.content_type==="Video"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition-opacity opacity-0 bg-black/20 group-hover:opacity-100",children:e.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-white/90",children:e.jsx(Q,{size:24,className:"ml-1 text-sky-600"})})})]}),e.jsxs(S,{className:"p-4",children:[e.jsx("h3",{className:"mb-2 font-semibold text-gray-900 transition-colors line-clamp-2 group-hover:text-sky-600",children:s.title}),e.jsx("div",{className:"mb-3 text-sm text-gray-600 line-clamp-2",children:e.jsx(M,{htmlString:s.body,className:"leading-relaxed text-gray-700"})}),e.jsx("div",{className:"flex items-center justify-between mb-3 text-xs text-gray-500",children:e.jsxs("span",{children:["Oleh: ",(_=s.author)==null?void 0:_.name]})}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(U,{size:14,className:"mr-1"}),e.jsx("span",{children:I(s.created_at)})]})}),e.jsxs(u,{className:"w-full mt-auto transition-colors duration-200 bg-cyan-500 hover:bg-cyan-700",onClick:()=>B.visit(`/content/${s.id}`),children:[e.jsx(Z,{size:16,className:"mr-2"}),"Lihat Detail"]})]})]},s.id)})})}):e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs(h,{className:"w-full px-8 py-32 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-gray-100 rounded-full",children:e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),e.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:a||l.content_type!=="semua"?"Tidak Ada Konten Edukasi yang Sesuai Filter":"Konten Edukasi Belum Tersedia"}),e.jsx("p",{className:"text-sm text-gray-500",children:a||l.content_type!=="semua"?"Coba ubah atau hapus beberapa filter untuk melihat lebih banyak konten edukasi.":"Belum ada konten edukasi yang tersedia saat ini."}),(a||l.content_type!=="semua")&&e.jsx(u,{variant:"outline",className:"mt-4",onClick:v,children:"Reset Semua Filter"})]})})]})]})]})},he=()=>{var d;const{props:m}=D(),n=((d=m.contents)==null?void 0:d.data)||[],i=a=>{B.visit(route("content.show",{id:a}))};return e.jsx(W,{currentPage:"education",children:e.jsx(q,{contents:n,onViewDetails:i})})};export{he as default};
